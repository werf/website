{% offtopic title="Зачем ждать выполнения 10 подряд успешных проверок доступности БД?" %}
Это предохраняет нас от случая, когда `mysqladmin ping` выполняется только один раз и до того, как StatefulSet с MySQL начнёт перезапускаться при деплое. В таких случаях во время выполнения инициализации/миграций база данных может оказаться недоступна.

Также в образах с БД при первом запуске главный процесс БД может несколько раз перезапускаться (при этом без перезапуска контейнера). В таком случае, если проверять БД на доступность только один раз, то может оказаться, что после успешной однократной проверки запускаются миграции/инициализация в то же время, когда начинает перезапускаться сам процесс БД. От этого нас тоже страхует выполнение `mysqladmin ping` несколько раз подряд.

Количество успешных проверок подряд можно изменять — значение 10 приведено как пример.
{% endofftopic %}
